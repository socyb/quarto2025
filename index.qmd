---
title: "La Noche Estrellada - Van Gogh"
format: html
jupyter: python3
code-fold: true
code-summary: "Mostrar código"
---

## Simulación de "La Noche Estrellada" de Van Gogh

Esta visualización recrea el estilo de la famosa pintura de Van Gogh usando vectores, con animación de las estrellas y el cielo.

```{python}
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.patches import Circle, Rectangle
from matplotlib.collections import LineCollection

# Configurar la figura
fig, ax = plt.subplots(figsize=(14, 10), facecolor='#0a1929')
ax.set_xlim(0, 100)
ax.set_ylim(0, 100)
ax.set_aspect('equal')
ax.axis('off')
fig.patch.set_facecolor('#0a1929')

# Colores inspirados en Van Gogh
color_cielo_oscuro = '#1a3a52'
color_cielo_medio = '#2d5a7b'
color_cielo_claro = '#4a7ba7'
color_estrella = '#ffeb3b'
color_luna = '#ffd700'
color_montanas = '#2c3e50'
color_pueblo = '#34495e'
color_cipres = '#1e3a2e'
color_ventanas = '#f39c12'

# Fondo del cielo con gradiente
gradient_colors = [color_cielo_oscuro, color_cielo_medio, color_cielo_claro]
for i in range(100):
    y_pos = i
    color_index = int(i / 33)
    if color_index >= len(gradient_colors):
        color_index = len(gradient_colors) - 1
    ax.add_patch(Rectangle((0, y_pos), 100, 1, 
                           color=gradient_colors[color_index], 
                           alpha=0.3))

# Función para crear espirales (remolinos de Van Gogh)
def crear_espiral(cx, cy, radio, n_puntos=100, vueltas=3):
    theta = np.linspace(0, vueltas * 2 * np.pi, n_puntos)
    r = np.linspace(0, radio, n_puntos)
    x = cx + r * np.cos(theta)
    y = cy + r * np.sin(theta)
    return x, y

# Crear múltiples espirales en el cielo con diferentes intensidades
posiciones_espirales = [
    (20, 80, 8, '#4a7ba7', 0.7),
    (50, 85, 10, '#5a8bb7', 0.8),
    (75, 75, 7, '#4a7ba7', 0.6),
    (35, 70, 6, '#5a8bb7', 0.65),
    (65, 90, 9, '#6a9bc7', 0.75),
]

for cx, cy, radio, color, alpha in posiciones_espirales:
    x, y = crear_espiral(cx, cy, radio)
    points = np.array([x, y]).T.reshape(-1, 1, 2)
    segments = np.concatenate([points[:-1], points[1:]], axis=1)
    lc = LineCollection(segments, colors=color, linewidths=3, alpha=alpha)
    ax.add_collection(lc)

# Montañas onduladas
x_montana = np.linspace(0, 100, 200)
y_montana = 25 + 8 * np.sin(x_montana * 0.1) + 3 * np.cos(x_montana * 0.15)
ax.fill_between(x_montana, 0, y_montana, color=color_montanas, alpha=0.9)

# Ciprés ondulante (árbol característico)
cipres_x = np.array([15, 12, 10, 8, 10, 12, 15, 18, 20, 22, 20, 18])
cipres_y = np.array([0, 15, 30, 45, 60, 70, 85, 70, 60, 45, 30, 15])
ax.fill(cipres_x, cipres_y, color=color_cipres, alpha=0.95)

# Pueblo con casitas
casas = [
    (30, 10, 8, 12),
    (40, 10, 7, 10),
    (50, 10, 9, 14),
    (60, 10, 6, 9),
    (70, 10, 8, 11),
]

np.random.seed(42)
for x, y, w, h in casas:
    # Casa
    ax.add_patch(Rectangle((x, y), w, h, color=color_pueblo, alpha=0.9))
    # Techo triangular
    techo_x = [x, x + w/2, x + w]
    techo_y = [y + h, y + h + 4, y + h]
    ax.fill(techo_x, techo_y, color=color_montanas, alpha=0.9)
    # Ventanas iluminadas
    if np.random.random() > 0.3:
        ax.add_patch(Rectangle((x + w*0.3, y + h*0.4), w*0.3, h*0.25, 
                               color=color_ventanas, alpha=0.85))

# Luna grande con halo
ax.add_patch(Circle((85, 85), 9, color=color_luna, alpha=0.3, zorder=9))
ax.add_patch(Circle((85, 85), 6, color=color_luna, alpha=0.95, zorder=10))

# Estrellas grandes con halos
posiciones_estrellas = [
    (25, 85, 2.5),
    (55, 90, 3.2),
    (80, 78, 2.8),
    (40, 75, 2.3),
    (70, 92, 2.6),
]

for x, y, r in posiciones_estrellas:
    # Halo exterior
    ax.add_patch(Circle((x, y), r*2.5, color=color_estrella, alpha=0.2, zorder=5))
    # Halo medio
    ax.add_patch(Circle((x, y), r*1.8, color=color_estrella, alpha=0.4, zorder=6))
    # Estrella central
    ax.add_patch(Circle((x, y), r, color=color_estrella, alpha=0.95, zorder=7))

# Estrellas pequeñas con variación de tamaño y brillo
np.random.seed(42)
for i in range(50):
    x = np.random.uniform(5, 95)
    y = np.random.uniform(50, 95)
    r = np.random.uniform(0.3, 1.0)
    alpha = np.random.uniform(0.5, 0.9)
    ax.add_patch(Circle((x, y), r, color=color_estrella, alpha=alpha))

plt.tight_layout()
plt.show()
```

## Versión Animada con CSS

```{python}
#| output: asis
from IPython.display import HTML

html_code = """
<style>
@keyframes pulse {
    0%, 100% { opacity: 0.8; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.3); }
}
@keyframes glow {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.5); }
}
@keyframes twinkle {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}
.star-big {
    animation: pulse 2s ease-in-out infinite;
}
.star-small {
    animation: twinkle 3s ease-in-out infinite;
}
.moon {
    animation: glow 4s ease-in-out infinite;
}
</style>
<div style="background: linear-gradient(to top, #1a3a52, #2d5a7b, #4a7ba7); padding: 20px; border-radius: 10px;">
    <svg width="100%" height="500" viewBox="0 0 1000 800">
        <!-- Cielo con espirales -->
        <circle cx="200" cy="150" r="80" fill="none" stroke="#4a7ba7" stroke-width="3" opacity="0.6">
            <animateTransform attributeName="transform" type="rotate" from="0 200 150" to="360 200 150" dur="20s" repeatCount="indefinite"/>
        </circle>
        <circle cx="500" cy="120" r="100" fill="none" stroke="#5a8bb7" stroke-width="3" opacity="0.7">
            <animateTransform attributeName="transform" type="rotate" from="0 500 120" to="360 500 120" dur="25s" repeatCount="indefinite"/>
        </circle>
        <circle cx="750" cy="180" r="70" fill="none" stroke="#4a7ba7" stroke-width="3" opacity="0.6">
            <animateTransform attributeName="transform" type="rotate" from="0 750 180" to="360 750 180" dur="18s" repeatCount="indefinite"/>
        </circle>
        
        <!-- Montañas -->
        <path d="M 0 600 Q 200 500, 400 550 T 800 520 L 1000 550 L 1000 800 L 0 800 Z" fill="#2c3e50" opacity="0.9"/>
        
        <!-- Ciprés -->
        <ellipse cx="150" cy="500" rx="40" ry="200" fill="#1e3a2e" opacity="0.95"/>
        
        <!-- Pueblo -->
        <rect x="300" y="650" width="80" height="120" fill="#34495e"/>
        <polygon points="300,650 340,620 380,650" fill="#2c3e50"/>
        <rect x="320" y="700" width="30" height="40" fill="#f39c12" opacity="0.8" class="star-small"/>
        
        <rect x="400" y="670" width="70" height="100" fill="#34495e"/>
        <polygon points="400,670 435,645 470,670" fill="#2c3e50"/>
        <rect x="420" y="710" width="25" height="35" fill="#f39c12" opacity="0.8" class="star-small"/>
        
        <rect x="500" y="640" width="90" height="130" fill="#34495e"/>
        <polygon points="500,640 545,605 590,640" fill="#2c3e50"/>
        <rect x="525" y="690" width="35" height="45" fill="#f39c12" opacity="0.85" class="star-small"/>
        
        <rect x="600" y="680" width="60" height="90" fill="#34495e"/>
        <polygon points="600,680 630,660 660,680" fill="#2c3e50"/>
        
        <rect x="700" y="660" width="80" height="110" fill="#34495e"/>
        <polygon points="700,660 740,635 780,660" fill="#2c3e50"/>
        <rect x="720" y="705" width="30" height="38" fill="#f39c12" opacity="0.8" class="star-small"/>
        
        <!-- Luna -->
        <circle cx="850" cy="150" r="60" fill="#ffd700" opacity="0.9" class="moon"/>
        <circle cx="850" cy="150" r="80" fill="#ffd700" opacity="0.2" class="moon"/>
        
        <!-- Estrellas grandes -->
        <circle cx="250" cy="180" r="25" fill="#ffeb3b" opacity="0.9" class="star-big" style="animation-delay: 0s;"/>
        <circle cx="250" cy="180" r="40" fill="#ffeb3b" opacity="0.2" class="star-big" style="animation-delay: 0s;"/>
        
        <circle cx="550" cy="130" r="32" fill="#ffeb3b" opacity="0.9" class="star-big" style="animation-delay: 0.5s;"/>
        <circle cx="550" cy="130" r="50" fill="#ffeb3b" opacity="0.2" class="star-big" style="animation-delay: 0.5s;"/>
        
        <circle cx="800" cy="220" r="28" fill="#ffeb3b" opacity="0.9" class="star-big" style="animation-delay: 1s;"/>
        <circle cx="800" cy="220" r="45" fill="#ffeb3b" opacity="0.2" class="star-big" style="animation-delay: 1s;"/>
        
        <circle cx="400" cy="200" r="22" fill="#ffeb3b" opacity="0.9" class="star-big" style="animation-delay: 1.5s;"/>
        <circle cx="400" cy="200" r="38" fill="#ffeb3b" opacity="0.2" class="star-big" style="animation-delay: 1.5s;"/>
        
        <circle cx="700" cy="140" r="26" fill="#ffeb3b" opacity="0.9" class="star-big" style="animation-delay: 2s;"/>
        <circle cx="700" cy="140" r="42" fill="#ffeb3b" opacity="0.2" class="star-big" style="animation-delay: 2s;"/>
        
        <!-- Estrellas pequeñas -->
        <circle cx="150" cy="250" r="8" fill="#ffeb3b" class="star-small" style="animation-delay: 0.2s;"/>
        <circle cx="320" cy="300" r="6" fill="#ffeb3b" class="star-small" style="animation-delay: 0.8s;"/>
        <circle cx="480" cy="280" r="7" fill="#ffeb3b" class="star-small" style="animation-delay: 1.2s;"/>
        <circle cx="620" cy="260" r="6" fill="#ffeb3b" class="star-small" style="animation-delay: 1.6s;"/>
        <circle cx="780" cy="310" r="8" fill="#ffeb3b" class="star-small" style="animation-delay: 2.2s;"/>
        <circle cx="900" cy="280" r="6" fill="#ffeb3b" class="star-small" style="animation-delay: 2.8s;"/>
        <circle cx="200" cy="350" r="7" fill="#ffeb3b" class="star-small" style="animation-delay: 0.5s;"/>
        <circle cx="360" cy="370" r="6" fill="#ffeb3b" class="star-small" style="animation-delay: 1.4s;"/>
        <circle cx="520" cy="340" r="8" fill="#ffeb3b" class="star-small" style="animation-delay: 1.9s;"/>
        <circle cx="670" cy="360" r="7" fill="#ffeb3b" class="star-small" style="animation-delay: 2.5s;"/>
    </svg>
</div>
"""

HTML(html_code)
```

## Descripción

Esta recreación captura los elementos icónicos de "La noche estrellada":

- **Cielo arremolinado**: Espirales que simulan los característicos remolinos de Van Gogh con rotación continua
- **Estrellas pulsantes**: Animación CSS que hace que las estrellas brillen y pulsen
- **Luna luminosa**: En la esquina superior derecha con efecto de resplandor
- **Ciprés oscuro**: El árbol vertical característico en primer plano
- **Pueblo tranquilo**: Casitas con ventanas iluminadas que titilan
- **Montañas onduladas**: Al fondo del paisaje

La animación añade vida a la escena con espirales rotantes, estrellas que pulsan suavemente y ventanas que parpadean como luces en la noche.
